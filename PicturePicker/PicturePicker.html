<html>
<head>
<style>
.default {
    border-color: black;
    border-style: solid;
    border-width: 3px;
}
.selected {
    border-color: red;
    border-style: solid;
    border-width: 3px;
}
</style>
</head>
<body>
<table id="t" style="border:solid 2px black">
</table>
<div id="pallette" style="position:absolute;bottom:0">
</div>

<script type="text/javascript" lang="javascript">
//<!--your images here-->
var myImages = [
    "a.png",
    "b.png",
    "a.png",
    "a.png",
    "a.png",
    "b.png",
    "b.png",
    "b.png",
];

myImages.forEach(function(path) {
    document.getElementById("pallette").innerHTML += '<img src="' + path + '" width="100" height="100" onclick="perform(\'' + path + '\')"></img>'
})

var selTCell = null

var cellsText = ""
for(var i = 0; i < 8; ++i) {
    cellsText += "<tr>"
    for(var j = 0; j < 12; ++j) {
        var id = 'cell' + i + '_' + j
        cellsText += "<td class='default' style=\"background-repeat:no-repeat; background-size:cover;width:100px;height:100px; \" id=\"" + id + "\" onclick=\"setMe('" + id + "')\"></td>"
    }
    cellsText += "</tr>"
}
document.getElementById("t").innerHTML = cellsText

loadCookie()

function setMe(id) {
    document.getElementById(id).className = "selected"
    if(selTCell != null) document.getElementById(selTCell).className = "default"
    selTCell = id
}

function perform(pic) {
    if(selTCell == null) return
    document.getElementById(selTCell).style.background = "url('" + pic + "')"
    saveCookie()
}

function saveCookie() {
    localStorage.setItem("data", document.getElementById("t").innerHTML)
}

function loadCookie() {
    var x = localStorage.getItem("data")
    if(x) {
        document.getElementById("t").innerHTML = x
    }
}
</script>
</body>
</html>
